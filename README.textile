h1. Qwiqq Web

* web app
* json API
* admin

h2. Dev Environment

* ruby = 1.9.2 mri
* gemset = qwiqq
* db = postgreSQL
* hosting (staging/production) = HEROKU

h2. API notes

* return all ids as string using .try(:to_s)
* prefix id with model, eg user_id
* current user is a valid option for user_id or id for users collection

h2. Deploy Setup (will add multi env later)

* git push heroku master

h2. Push Notifications setup

* install and config gem: https://github.com/natescherer/apn_on_rails
* download apn cert from developer.apple.com
* add to keychain by 2x click on downloaded cert
* right click on new apn cert in keychain and export as .p12
* convert to .pem with "openssl pkcs12 -in QwiqqPushCertificates.p12 -out apple_push_notification_development.pem -nodes -clcerts"
* copy new .pem file to config/ "cp apple_push_notification_development.pem ~/Code/gastownlabs/qwiqq-web/config/"


h2. Push Notification Dev testing

* obtain the push notification token from xcode, run on device and watch log for "Registered for push notifications with token <....."
* alternately get token from production app: "User(12).notifications_token"
* run the following on your local rails console to create the objects
* then deliver with  "bundle exec rake apn:notifications:deliver"

<pre><code>
d = APN::Device.create(:token => "b0a91911 db6fad5f 4e924598 74107351 6f0c032f 3c017918 1c9cd79e a2ec144c")
n = APN::Notification.new
n.device = d
n.badge = 5
n.sound = true
n.alert = "foobar"
n.save
</pre></code>


h2. Related Apps

h3. qwiqq-resque

Shares qwiqq-web REDISTOGO_URL instance

* http://qwiqq-resque.heroku.com/
* username: gastownlabs
* password: sdf93b3nf092b3n


h2. Services

h3. Zerigo (DNS)

* https://ns.zerigo.com/accounts/774730441/domains
* email: adam|brian|eoin@gastownlabs.com 
* pass: request reset

h3. PaperTrail (logging)

* https://papertrailapp.com
* email: adam|brian|eoin@gastownlabs.com
* pass: request reset

h3. Airbrake (errors)

* https://gastownlabs.airbrakeapp.com/login
* email: adam|brian|eoin@gastownlabs.com
* pass: request reset

h3. NewRelic (performance)

* on heroku

h3. PostmarkApp (email send)

* https://postmarkapp.com/servers/24292/overview
* email: adam@gastownlabs.com
* pass: mrp1ckl3s


